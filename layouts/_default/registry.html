{{ define "main" }}
<main class="main">
  <article class="post-single">
    <header class="post-header">
      <h1 class="post-title">{{ .Title }}</h1>
    </header>

    <section class="post-content">
      {{ $db := site.Data.registry }}
      <div class="registry-grid">
        {{ range $db.blueprints }}
        <article class="registry-card">
          <header>
            <h3 class="registry-title">{{ .name }}</h3>
            <span class="registry-version">{{ .version }}</span>
          </header>

          <p class="registry-desc">{{ .description }}</p>

          <div class="registry-actions">
            <a class="registry-btn" href="{{ .download_url }}">Download</a>
          </div>

          {{ $raw := .tags | default (slice) }}
          {{ $tags := slice }}
          {{ range $raw }}{{ $tags = $tags | append (printf "%v" .) }}{{ end }}
          {{ if gt (len $tags) 0 }}
          <ul class="registry-tags">
            {{ range $tags }}
            <li>{{ . }}</li>
            {{ end }}
          </ul>
          {{ end }}
        </article>
        {{ end }}
      </div>
    </section>
  </article>
</main>
{{ end }}
